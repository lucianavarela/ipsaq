<section class="hero is-light">
  <div class="hero-body has-text-centered">
    <h1 class="title">CRONOGRAMA</h1>
  </div>
</section>

<section class="section">
  <div class="container main-list-table">

    <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">
      <ng-container matColumnDef="sermon_date">
        <th mat-header-cell *matHeaderCellDef>Fecha del culto</th>
        <td mat-cell *matCellDef="let sermon">
          <a class="has-text-dark" [routerLink]="['/cultos', sermon.id]">{{ sermon.date | date : !isMobile ? "dd \'de\' MMMM\',\' yy":"dd\'/\'MM\'/\'yy" }}</a>
        </td>
      </ng-container>

      <ng-container *ngFor="let nickname of namesHeaders; let colIndex = index" matColumnDef="{{nickname}}">
        <th mat-header-cell *matHeaderCellDef>{{nickname}}</th>
        <td mat-cell *matCellDef="let sermon">
          <span *ngIf="users[colIndex]?.id == sermon.director?.id || sermon.ids_band.includes(users[colIndex]?.id)"
            class="icon">
            <i *ngIf="users[colIndex]?.id == sermon.director?.id; then director else player"></i>
            <ng-template #director><i class="fa-regular fa-user"></i></ng-template>
            <ng-template #player><span [outerHTML]="users[colIndex].player_icon"></span></ng-template>
          </span>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>

      <tr class="mat-row" *matNoDataRow>
        <td class="mat-cell" colspan="4">Sin resultados :(</td>
      </tr>
    </table>

  </div>
</section>